import{d as b,m as M,U as y,J as U,o as h,e as d,r as x,g as i,t as c,f as n,aw as V,y as P,S as F,h as w,ax as $,j as k,l as v,F as D,n as L,ay as S,ae as N,q as A,w as H}from"./app-CCwOMQ8g.js";function se(t,e){return Math.random()*(e-t)+t}function ae(t,e){let s,a=!1;return()=>{s&&clearTimeout(s),a?s=setTimeout(t,e):(t(),a=!0,setTimeout(()=>{a=!1},e))}}const q={class:"vc-site-live-time"},E={"mx-1":""},I={"mx-1":""},Y={"mx-1":""},j={"mx-1":""},z=b({__name:"VCLiveTime",props:{startTime:{}},setup(t){const e=t,{t:s}=M(),a=y(0),o=y(0),l=y(0),u=y(0);function p(){const m=new Date(e.startTime),r=new Date().getTime()-m.getTime(),_=60*1e3,g=60*_,T=24*g;a.value=Math.floor(r/T),o.value=Math.floor(r%T/60/60/1e3),l.value=Math.floor(r%g/60/1e3),u.value=Math.floor(r%_/1e3)}return U(()=>{setInterval(p,1e3)}),(m,f)=>(h(),d("div",q,[x(m.$slots,"live-time-before"),i("span",E,c(n(s)("time.day",a.value)),1),i("span",I,c(n(s)("time.hour",o.value)),1),i("span",Y,c(n(s)("time.minute",l.value)),1),i("span",j,c(n(s)("time.second",u.value)),1),x(m.$slots,"live-time-after")]))}}),B={class:"va-footer p-4 text-$va-c-text-light",text:"center sm"},K={key:0,class:"beian",m:"y-2"},O={href:"https://beian.miit.gov.cn/",target:"_blank",rel:"noopener"},W={class:"copyright flex justify-center items-center gap-2",p:"1"},J=["href","title"],R={key:1,class:"powered",m:"2"},G=["innerHTML"],Q=["href","title"],X=b({__name:"YunFooter",setup(t){const{t:e}=M(),s=V(),a=P(),o=F(),l=new Date().getFullYear(),u=w(()=>l===o.value.footer.since),p=w(()=>e("footer.powered",[`<a href="${$.repository.url}" target="_blank" rel="noopener">Valaxy</a> v${$.version}`])),m=w(()=>o.value.footer.icon||{url:$.repository.url,name:"i-ri-cloud-line",title:$.name});return(f,r)=>{var _,g;return h(),d("footer",B,[(_=n(o).footer.beian)!=null&&_.enable&&n(o).footer.beian.icp?(h(),d("div",K,[i("a",O,c(n(o).footer.beian.icp),1)])):k("v-if",!0),i("div",W,[i("span",null,[r[0]||(r[0]=v(" © ")),u.value?k("v-if",!0):(h(),d(D,{key:0},[v(c(n(o).footer.since)+" - ",1)],64)),v(" "+c(n(l)),1)]),(g=n(o).footer.icon)!=null&&g.enable?(h(),d("a",{key:0,class:L(["inline-flex",n(o).footer.icon.animated?"animate-pulse":""]),href:m.value.url,target:"_blank",title:m.value.title},[i("div",{class:L(m.value.name)},null,2)],10,J)):k("v-if",!0),i("span",null,c(n(a).author.name),1)]),n(o).footer.powered?(h(),d("div",R,[i("span",{innerHTML:p.value},null,8,G),r[1]||(r[1]=v(" | ")),i("span",null,[v(c(n(e)("footer.theme"))+" - ",1),i("a",{href:n(o).pkg.repository.url,title:n(o).pkg.name,target:"_blank"},c(S(n(s).theme)),9,Q),v(" v"+c(n(o).pkg.version),1)])])):k("v-if",!0),x(f.$slots,"default")])}}});function C(t){return Array.isArray(t)?t.map(e=>C(e)):t!==null&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([e,s])=>[e.replace(/_([a-z])/g,(o,l)=>l.toUpperCase()),C(s)])):t}function Z(t,e){var p;let s="";((p=e==null?void 0:e.args)==null?void 0:p.length)!==0&&(s=[...new Set(e.args)].map(f=>`c=${f}`).join("&"));const a=e.minLength!==void 0?`&min_length=${e.minLength}`:"",o=e.maxLength!==void 0?`&max_length=${e.maxLength}`:"",l=`${s}${a}${o}`,u=l.startsWith("&")?l.substring(1):l;return`${t}/?${u}`}function ee(t){return t&&typeof t=="object"}function te(){const t=N();return w(()=>({...t.value.addons["valaxy-addon-hitokoto"].options}))}function oe(t=null){const e=te(),s="https://international.v1.hitokoto.cn",a="https://v1.hitokoto.cn",o=y({id:0,uuid:"",hitokoto:"",type:"",from:"",fromWho:"",creator:"",creatorUid:0,reviewer:0,commitFrom:"",createdAt:"",length:0}),l=async(u=t||e.value)=>{ee(u)||console.error("Invalid argument: fetchOptions must be of type HitokotoOptions",u);const p=u.api==="intl"?s:u.api||a,m=Z(p,u);try{const f=await fetch(m);if(!f.ok)throw new Error("Network response was not ok.");const r=await f.json();Array.isArray(r)?o.value.hitokoto=r[0]:typeof r=="object"?o.value=C(r):typeof r=="string"&&(o.value.hitokoto=r)}catch(f){console.error("Error fetching visitor count:",f)}};return l(),{hitokoto:o,fetchHitokoto:l}}const re=b({__name:"YunFooter",setup(t){const{hitokoto:e}=oe();return(s,a)=>{const o=z;return h(),d(D,null,[i("span",null,"一言: "+c(n(e).hitokoto),1),i("span",null,"来自: "+c(n(e).from),1),A(X,null,{default:H(()=>[k(" 自定义页脚内容 "),A(o,{mt:"2","start-time":"2024-08-31"},{"live-time-before":H(()=>a[0]||(a[0]=[i("span",null,"本站已运行",-1)])),_:1})]),_:1})],64)}}});export{re as _,se as r,ae as t};
